{"createdTime":"2024-04-19T03:18:19.514+00:00","createdBy":"daniel.qu","updatedTime":"2024-04-21T19:03:49.584+00:00","updatedBy":"daniel.qu","owner":{"teamName":"MS Runtime Fabric","ownerId":3109,"email":"runtime-fabric-team@mulesoft.com"},"testSteps":[{"testStepId":161630,"stepType":"API","stepNumber":1,"timeout":60,"softFailureEnabled":false,"retryOnFailure":true,"retryTest":false,"description":"Login to Anypoint Platform","testUrl":"<replaceable.baseurl>/accounts/login","expectedResponseCode":200,"section":"init","tracing":"NEW_128_BIT","conditionAction":"NONE","httpMethod":"POST","postContent":"{\"username\":\"<replaceable.username>\",\"password\":\"<secret.password>\"}","dependentResponseJsonData":{"access_token":"<TOKEN>"}},{"testStepId":161631,"stepType":"API","stepNumber":2,"timeout":60,"softFailureEnabled":false,"retryOnFailure":true,"retryTest":false,"description":"Acquire rtf-runtime-registry properties","testUrl":"<replaceable.baseurl>/runtimefabric/api/organizations/<replaceable.orgid>/imageRegistryProperties","expectedResponseCode":200,"section":"core","tracing":"REUSE","conditionAction":"NONE","httpMethod":"GET","headers":{"Authorization":"bearer <TOKEN>"},"dependentResponseJsonData":{"RTF_IMAGE_REGISTRY_ENDPOINT":"<registry_endpoint>","RTF_IMAGE_REGISTRY_PASSWORD":"<registry_password>","RTF_IMAGE_REGISTRY_USER":"<registry_user>"}},{"testStepId":161632,"stepType":"API","stepNumber":3,"timeout":60,"softFailureEnabled":false,"retryOnFailure":true,"retryTest":false,"description":"Get helm chart from rtf-runtime-registry","javaScript":{"pre":"function executeBeforeStep(currentStep) {\n    var registryUser = testCase.getVariable(\"<registry_user>\");\n    var registryPassword = testCase.getVariable(\"<registry_password>\");\n    var credential = registryUser + \":\" + registryPassword;\n    var encodedCredential = securityHelper.encodeBase64(credential);\n    testCase.setVariable(\"<encoded_registry_credential>\", encodedCredential);\n}"},"testUrl":"https://<registry_endpoint>/charts/<replaceable.helmchart>","expectedResponseCode":200,"section":"core","tracing":"REUSE","conditionAction":"NONE","httpMethod":"GET","headers":{"Authorization":"Basic <encoded_registry_credential>"}},{"testStepId":161633,"stepType":"API","stepNumber":4,"timeout":60,"softFailureEnabled":false,"retryOnFailure":true,"retryTest":false,"description":"Get docker image manifest from rtf-runtime-registry","javaScript":{"pre":"function executeBeforeStep(currentStep) {\n    var registryUser = testCase.getVariable(\"<registry_user>\");\n    var registryPassword = testCase.getVariable(\"<registry_password>\");\n    var credential = registryUser + \":\" + registryPassword;\n    var encodedCredential = securityHelper.encodeBase64(credential);\n    testCase.setVariable(\"<encoded_registry_credential>\", encodedCredential);\n}"},"testUrl":"https://<registry_endpoint>/v2/mulesoft/<replaceable.artifact>/manifests/<replaceable.artifacttag>","expectedResponseCode":200,"section":"core","tracing":"REUSE","conditionAction":"NONE","httpMethod":"GET","headers":{"Authorization":"Basic <encoded_registry_credential>"}},{"testStepId":161634,"stepType":"API","stepNumber":5,"timeout":60,"softFailureEnabled":false,"retryOnFailure":false,"retryTest":false,"description":"Final step","testUrl":"<replaceable.baseurl>/runtimefabric/api/organizations/<replaceable.orgid>/fabrics","expectedResponseCode":200,"section":"finalization","tracing":"REUSE","conditionAction":"NONE","httpMethod":"GET","headers":{"Authorization":"bearer <TOKEN>"},"kaijuMTLS":false}],"testCaseId":86685,"name":"rtf-runtime-registry","revision":18,"description":"rtf-runtime-registry","testCaseEnabled":true,"prometheusEnabled":false,"frequency":900,"timeout":900,"dependentTestSteps":true,"tags":{"metricName":"rtf-runtime-registry","service":"RTF","fabricname":"<replaceable.fabricname>"},"captureSession":false,"agents":[{"owner":{"teamName":"Kaiju All Teams","ownerId":163,"email":"kaiju@salesforce.com"},"agentId":43,"agentName":"Heroku Sydney Agent","agentType":"heroku-syd","location":"SYD","agentApiEndpoint":"https://kaiju.data.sfdc.net/synthetics/api/agents","agentEnabled":true,"ipRange":"13.238.81.165, 13.238.131.20, 13.237.246.34, 13.210.28.44","distributeRuns":false,"shared":true,"createdTime":"2018-10-22T19:29:02.232+00:00","updatedTime":"2018-10-22T19:29:02.232+00:00"}],"replaceableData":{"createdTime":"2024-04-21T19:02:56.833+00:00","createdBy":"daniel.qu","updatedTime":"2024-04-21T19:02:56.835+00:00","updatedBy":"daniel.qu","owner":{"teamName":"MS Runtime Fabric","ownerId":3109,"email":"runtime-fabric-team@mulesoft.com"},"replaceableId":10518,"revision":1,"name":"rtf-synthetic-replaceable","description":" rtf-synthetic-replaceable","shared":false,"source":"KAIJU","fields":["<key>","<username>","<orgid>","<envname>","<baseurl>","<fabricname>","<clusterprovider>","<anypointhost>","<helmchart>","<artifact>","<artifacttag>"],"type":"UI"},"statefulHttpClient":false,"distributeReplaceableRuns":false,"adHocEnabled":false,"secret":{"createdTime":"2024-04-03T19:04:39.400+00:00","createdBy":"daniel.qu","updatedTime":"2024-04-03T19:04:39.401+00:00","updatedBy":"daniel.qu","secretId":9030,"revision":1,"owner":{"teamName":"MS Runtime Fabric","ownerId":3109,"email":"runtime-fabric-team@mulesoft.com"},"name":"rtf-deploy-mule-cred","description":"rtf-deploy-mule-cred","type":"UI","secretKeys":["password"]},"numSteps":5,"updatedDateTime":"2024-04-21T19:03:49.584Z","createdDateTime":"2024-04-19T03:18:19.514Z","frequencyInMin":15,"testType":"API","replaceable":"rtf-synthetic-replaceable (<key> - 13 values)","secretStr":"rtf-deploy-mule-cred (9030)","teamName":"MS Runtime Fabric","tip":"","tipIconName":"standard:task2","tipObject":{"tip":"","icon":"standard:task2","score":0,"locationCount":1,"distributeRuns":false,"uselessRetry":[],"retrySteps":[0,1,2,3],"retryTest":[],"useSection":[0,4],"useTracer":[0,1,2,3,4],"httpTimeoutUnset":[0,1,2,3,4],"warning":["notEnoughTimeForAllSteps","moreLocationToReduceNoise","setHTTPTimeout"],"help":[]},"agentName":"Heroku Sydney Agent"}